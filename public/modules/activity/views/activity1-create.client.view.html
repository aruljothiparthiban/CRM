<div class="row" data-ng-init="load()">
    <div class="col-lg-12 animated">
        <div class="mail-box-header">
            <h2>Activity</h2>
        </div>
        <div class="mail-box">
            <form class="form-horizontal" method="post" data-ng-submit="create()">
                <div class="form-group">
                    <label class="col-lg-3 control-label">Activity type</label>
                    <div class="col-lg-4">
                        <select class="form-control" data-ng-model="activity.type">
                            <option value="{{t._id}}" data-ng-repeat="t in ActivityTypes">{{t.name}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-3 control-label">Name</label>
                    <div class="col-lg-4">
                        <input type="text" class="form-control" data-ng-model="activity.name" required>
                        <h5 data-ng-if="error" class="text-danger">{{error.message}}</h5>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-3 control-label">Date</label>
                    <div class="col-lg-4">
                        <div class="input-group date">
                            <input type="text" class="form-control" id="activity_date" data-ng-model="activity.date">
                            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-3 control-label">Subject</label>
                    <div class="col-lg-4">
                        <input type="text" class="form-control" data-ng-model="activity.subject" required>
                    </div>
                </div>
                <script type="text/ng-template" id="people-typeahead-template.html">
                    <a>
                        <span>{{match.model.title}} {{match.model.firstName}} {{match.model.lastName}}</span>
                    </a>
                </script>
                <div class="form-group" data-ng-repeat="c in activity.peoples">
                    <label class="col-lg-3 control-label">
                        <span data-ng-if="$index===0">Peoples</span>
                    </label>
                    <div class="col-lg-4">
                        <div class="input-group">
                            <input type="text" data-ng-model="c.id" typeahead="people as (people.title+' '+people.firstName+' '+people.lastName) for people in Peoples | filter:$viewValue | limitTo:8"
                                typeahead-template-url="people-typeahead-template.html" class="form-control">
                            <span data-ng-click="addPeople($index)" style="cursor: pointer;" class="input-group-addon">
                                <i data-ng-if="$index===0" class="fa fa-plus"></i>
                                <i data-ng-if="$index>0" class="fa fa-minus"></i>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-3 control-label">Notes</label>
                    <div class="col-lg-4">
                        <textarea class="form-control" data-ng-model="activity.notes" rows="4"></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-lg-offset-3 col-lg-4">
                        <button type="submit" class="btn btn-primary">Save</button>
                        <button type="button" class="btn btn-white">Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
